# Домашнее задание к занятию "Работа в терминале. Лекция 1"

## Проблемы при установке Vagrant

1) The requested URL returned error: 404\
Решение проблемы - соединение через VPN\
![](.\img\er1.png)

   
2) Образ скачивается, но виртуальная машина не создается.\
![](.\img\er2.png)
Причина - кириллица в путях.\
Казалось бы, имя везде указано на латинице:\
![](.\img\name1.png)\
![](.\img\name2.png)\
![](.\img\name3.png)\
Но в пути - кириллица:\
![](.\img\name4.png)\
Ввел переменную `VAGRANT_HOME`. По пути, указанному в этой переменной, будут храниться образа:\
![](.\img\img3.png)\
Но этого оказалось мало, у VBOX путь тоже содержит кириллицу:\
![](.\img\er5.png)\
Изменил в VBOX путь для машин:\
![](.\img\img4.png)\
Теперь машина создалась:\
![](.\img\img5.png)


## Выделенные ресурсы
Оперативня память - 1Гб\
Видеопамять - 4Мб\
Процессоры - 2\
Жесткий диск - 64Гб\
![](.\img\res1.png)\
![](.\img\res2.png)\
![](.\img\res2_2.png)\
![](.\img\res3.png)

Добавим ресурсов через `vagrantfile`:\
![](.\img\vagrantfile.png)\
Чтобы изменения применились, выполнил `vagrant halt` и `vagrant up`:
![](.\img\res4.png)\
![](.\img\res5.png)

## History
В мануале в одном из абзацев прочитал информацию о параметре `HISTSIZE`. Этот параметр задает количество записей в журнале history:\
![](.\img\hist2.png)\
Командой `man bash | grep -n -A 3 -B 3 HISTSIZE` вывевл номер строки(595) и описание параметра:\
![](.\img\hist4.png)\
Вывел историю (33 записи), уменьшил буфер до 10 записей и вывел снова - история сократилась до 10 записей:\
![](.\img\hist3.png)\
В мануале по истории тоже есть параметр, который отвечает за размер буфера (но изменить его не получилось, в том числе через вызов функции).
Причем номер строки нужно узнавать имеено через флаг `-n`:\
![](.\img\hist_1.png)\
Номер строки, указанный внизу строки относится только к выводу в консоли, а не к номеру строки в мануале. Это заметно при изменении размера окна консоли:
![](.\img\hist.png)\
![](.\img\hist_2.png)\
Параметр `ignoreboth` - это объединение параметров ignorespace (не записывать в историю команды, начинающиеся с пробела) и ignoredups (игнорировать дублирующиеся команды):
![](.\img\ignoreboth.png)\
На практике - выполню несколько команд, чтобы показать, что удаляются дублирующиеся команды и команды, начинающиеся с пробела:\
![](.\img\ignoreboth1.png)\
![](.\img\ignoreboth2.png)

## Braces
Во-первых, фигурные скобки используются для того, чтобы группировать команды (причем без создания подоболочки)(197 строка):\
![](.\img\braces1.png)\
Во-вторых, для генерации строк (746 строка):\
![](.\img\braces2.png)\
В-третьих, для выделения переменных (792 строка):
![](.\img\braces3.png)

## Touch
Создал отдельный каталог под файлы. Не получилось создать 100000 файлов. В мануале решения не нашел:\
![](.\img\touch.png)\
В интернете нашел информацию, что дело в ограничении длины команды `ARG_MAX`:\
![](.\img\touch1.png)\
Уменьшил длину имени одного файла:\
![](.\img\touch2.png)\
Обоснование того, почему не получится сделать 300000 файлов:\
![](.\img\touch3.png)\
Хотя, вероятно, это рассуждение не верно. На практике, это значение находится где-то между 140000 и 150000 файлов.

## [[ -d /tmp ]]
Это выражение проверяет существование каталога /tmp\
Справка:\
![](.\img\exp.png)

## type -a bash
![](.\img\type.png)

## At and batch
at - выполняется по расписанию\
batch - выполняется, когда это позволяет загрузка системы
![](.\img\at.png)